(this["webpackJsonpdevice-map"]=this["webpackJsonpdevice-map"]||[]).push([[0],{67:function(e,t,n){e.exports=n(80)},72:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(7),r=n.n(l),o=(n(72),n(29)),c=n(81),u=n(129),s=n(114),m=n(118),v=n(127),f=n(133),p=n(123),h=n(122),g=n(121),d=n(126),y=n(128),E=n(117),b=n(116),w=n(57),k=n.n(w),S=n(55),D=n(14),C=n(115),M=n(130),O=n(125),P=n(132),j=n(124),A=(n(74),function(e,t,n){return[e[0]*(1-n)+t[0]*n,e[1]*(1-n)+t[1]*n]}),x=function(e,t){var n=e[0]-t[0],a=e[1]-t[1];return Math.sqrt(n*n+a*a)},z=function(e,t){for(var n=0,a=0;a<e.length-1;++a){var i=x(e[a],e[a+1]),l=n+i;if(!(l<=t)){var r=(t-n)/i;return A(e[a],e[a+1],r)}n=l}return e[e.length-1]},L=function(e,t){for(var n=function(e){for(var t=0,n=0;n<e.length-1;++n)t+=x(e[n],e[n+1]);return t}(e),a=new Array(t),i=0;i<t;++i)a[i]=z(e,i/(t-1)*n);return a},I=function(e,t,n,a,i){var l=.5*(a-t),r=.5*(i-n),o=e*e;return(2*n-2*a+l+r)*(e*o)+(-3*n+3*a-2*l-r)*o+l*e+n},J=function(e,t){var n=(e.length-1)*t,a=Math.floor(n),i=n-a,l=e[0===a?a:a-1],r=e[a],o=e[a>e.length-2?e.length-1:a+1],c=e[a>e.length-3?e.length-1:a+2];return[I(i,l[0],r[0],o[0],c[0]),I(i,l[1],r[1],o[1],c[1])]},N=function(e,t){for(var n=new Array(t),a=0;a<t;++a)n[a]=J(e,a/t);return n},R=function(e,t){var n=e[0],a=e[1],i=e[2],l=Math.atan2(a[1]-n[1],a[0]-n[0]),r=Math.atan2(i[1]-n[1],i[0]-n[0]);return function(e,t,n,a,i){a>n&&(a-=2*Math.PI);for(var l=new Array(i),r=0;r<i;++r){var o=r/(i-1),c=n*(1-o)+a*o;l[r]=[e[0]+t*Math.cos(c),e[1]+t*Math.sin(c)]}return l}(n,x(n,a),l,r,t)},T=[{type:"wind",items:[{name:"Device 1",position:[32.08,34.77]},{name:"Device 2"},{name:"Device 3",position:[32.07,34.78]},{name:"Device 4"},{name:"Device 41"},{name:"Device 42"},{name:"Device 43"},{name:"Device 44"},{name:"Device 45"},{name:"Device 57"}]},{type:"water",items:[{name:"Device 5"},{name:"Device 6",position:[32.080320121040344,34.78262901306153]},{name:"Device 7"},{name:"Device 8",position:[32.0678106134499,34.768552780151374]}]}];console.log(new Date);var B,W,q=[32.081128,34.779729],F=function(e){var t=e.dev,n=e.isSelected,a=e.onClick,l=e.onDisableLocation;return i.a.createElement(c.a,{key:t.name,button:!0,selected:n,onClick:a},i.a.createElement(u.a,{primary:t.name}),t.position?i.a.createElement(s.a,{"aria-label":"Disable location",size:"small",onClick:l},i.a.createElement(k.a,null)):null)},H=function(e){var t=e.device,n=e.isSelected,a=e.isTypeSelected;return i.a.createElement(C.a,{key:t.name,position:t.position,title:t.name,icon:Object(D.divIcon)({iconSize:[20,20],html:Object(S.renderToStaticMarkup)(i.a.createElement("i",{className:" fa fa-map-marker-alt fa-2x",style:{color:a?n?"#297A31":"#1B2C6F":"#888888"}}))})},i.a.createElement(M.a,null,t.name+" at ("+t.position+")"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement((function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=i.a.useState([]),l=Object(o.a)(n,2),r=l[0],c=l[1],u=i.a.useState(T[0].type),s=Object(o.a)(u,2),w=s[0],k=s[1],S=i.a.useState(T),D=Object(o.a)(S,2),C=D[0],M=D[1],A=i.a.useState(!1),x=Object(o.a)(A,2),z=x[0],I=x[1],J=i.a.useState("Point"),K=Object(o.a)(J,2),$=K[0],G=K[1],Q=i.a.useState(void 0),U=Object(o.a)(Q,2),V=U[0],X=U[1],Y=function(e,t,n){for(var a=C.slice(),i=a.find((function(t){return t.type===e})).items,l=0;l<t.length;++l)i[t[l]].position=n[Math.min(l,n.length-1)];return a},Z=function(e){if(V){var n=[V].concat(W);if(e&&n.push(e),"Polyline"===$)t.current.leafletElement.setLatLngs(n);else if("Curve"===$){var a=N(n,100);t.current.leafletElement.setLatLngs(a)}else if("Arc"===$)if(2===n.length)t.current.leafletElement.setLatLngs(n);else{var i=R(n,400);t.current.leafletElement.setLatLngs([n[0]].concat(i))}}};return i.a.createElement("div",{className:"App"},i.a.createElement(O.a,{center:q,zoom:14,ref:e,style:{width:"100%",height:"100vh"},onClick:function(e){"Point"===$?(Y(w,r,[[e.latlng.lat,e.latlng.lng]]),c([])):V?W.push([e.latlng.lat,e.latlng.lng]):(X([e.latlng.lat,e.latlng.lng]),W=[])},onMouseMove:function(e){Z([e.latlng.lat,e.latlng.lng])},onMouseOut:function(){Z()}},i.a.createElement(P.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),C.map((function(e){return z||e.type===w?e.items.map((function(t,n){return t.position?i.a.createElement(H,{key:t.name,device:t,isSelected:r.includes(n),isTypeSelected:e.type===w}):null})):null})),V?i.a.createElement(j.a,{positions:[V,V],ref:t}):null),i.a.createElement(b.a,{style:{position:"absolute",height:"80%",top:50,width:"30%",right:50,bottom:50,justifyContent:"center",alignItems:"center",zIndex:1e3}},i.a.createElement("div",{style:{margin:10}},i.a.createElement(y.a,{style:{margin:5},size:"small",value:$,exclusive:!0,onChange:function(e,t){return G(t)}},i.a.createElement(E.a,{value:"Point"},"Point"),i.a.createElement(E.a,{value:"Polyline"},"Poly"),i.a.createElement(E.a,{value:"Curve"},"Curve"),i.a.createElement(E.a,{value:"Arc"},"Arc"),i.a.createElement(E.a,{value:"Rectangle",disabled:!0},"Rect")),i.a.createElement(m.a,{variant:"contained",color:"primary",disabled:"Point"===$,style:{margin:5},onClick:function(){var e=[V].concat(W);"Polyline"===$?e=L(e,r.length):"Curve"===$?e=L(N(e,100),r.length):"Arc"===$&&(e=L(R(e,400),r.length));var t=Y(w,r,e);M(t),X(void 0),c([])}},"Put devices"),i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("div",{style:{display:"inline-block",verticalAlign:"text-top",margin:5}},i.a.createElement(v.a,{id:"show-all-types",style:{fontSize:10}},"Show all"),i.a.createElement(f.a,{id:"show-all-types",color:"primary",inputProps:{"aria-label":"primary checkbox"},value:z,onChange:function(e){return I(e.target.checked)}})),i.a.createElement("div",{style:{display:"inline-block",verticalAlign:"text-top",margin:5}},i.a.createElement(v.a,{id:"select-type",style:{fontSize:10}},"Device Type"),i.a.createElement(p.a,{id:"select-type",value:w,onChange:function(e){c([]),k(e.target.value)}},C.map((function(e){return i.a.createElement(h.a,{key:e.type,value:e.type},e.type)}))))),i.a.createElement("div",{style:{overflow:"scroll",height:"inherit",display:"block"}},i.a.createElement(g.a,null,C.find((function(e){return e.type===w})).items.map((function(e,t){return i.a.createElement(F,{key:e.name,dev:e,isSelected:r.includes(t),onClick:function(e){return function(e,t){var n=[];if(t){if(void 0!==B){var a=Math.min(e,B),i=Math.max(e,B);n=r.filter((function(e){return e<a}));for(var l=a;l<=i;++l)n.push(l);n.concat(r.filter((function(e){return e>i})))}}else n=r.includes(e)?r.filter((function(t){return t!==e})):r.concat([e]);c(n.sort()),B=e}(t,e.shiftKey)},onDisableLocation:function(e){return Y(w,[t],[void 0])}})})))))),i.a.createElement(b.a,{style:{position:"absolute",height:"20%",width:"30%",right:50,bottom:50,justifyContent:"center",alignItems:"center",zIndex:1e3}},i.a.createElement(d.a,{id:"outlined-multiline-static",multiline:!0,style:{position:"absolute",overflow:"scroll",top:10,bottom:10,right:10,left:10},inputProps:{style:{fontSize:10,lineHeight:1}},value:JSON.stringify(C,null,2),onChange:function(e){return M(JSON.parse(e.target.value))}})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[67,1,2]]]);
//# sourceMappingURL=main.ee778dd9.chunk.js.map