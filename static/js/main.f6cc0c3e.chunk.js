(this["webpackJsonpdevice-map"]=this["webpackJsonpdevice-map"]||[]).push([[0],{69:function(e,n,t){e.exports=t(81)},74:function(e,n,t){},81:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),o=t(8),r=t.n(o),l=(t(74),t(21)),c=t(115),u=t(126),s=t(131),m=t(121),v=t(127),f=t(118),h=t(123),p=t(128),d=t(125),g=[{type:"wind",items:[{name:"Device 1",position:[32.08,34.77]},{name:"Device 2"},{name:"Device 3",position:[32.07,34.78]},{name:"Device 4"},{name:"Device 10"},{name:"Device 11"},{name:"Device 12"},{name:"Device 13"},{name:"Device 14"},{name:"Device 15"},{name:"Device 16"},{name:"Device 17"},{name:"Device 18"},{name:"Device 19"},{name:"Device 20"},{name:"Device 21"},{name:"Device 22"},{name:"Device 23"},{name:"Device 24"},{name:"Device 25"},{name:"Device 26"},{name:"Device 27"},{name:"Device 28"},{name:"Device 29"},{name:"Device 30"},{name:"Device 31"},{name:"Device 32"},{name:"Device 33"},{name:"Device 34"},{name:"Device 35"},{name:"Device 36"},{name:"Device 37"},{name:"Device 38"},{name:"Device 39"},{name:"Device 40"},{name:"Device 41"},{name:"Device 42"},{name:"Device 43"},{name:"Device 44"},{name:"Device 45"},{name:"Device 46"},{name:"Device 47"},{name:"Device 48"},{name:"Device 49"},{name:"Device 51"},{name:"Device 52"},{name:"Device 53"},{name:"Device 54"},{name:"Device 55"},{name:"Device 56"},{name:"Device 57"}]},{type:"water",items:[{name:"Device 5"},{name:"Device 6",position:[32.080320121040344,34.78262901306153]},{name:"Device 7"},{name:"Device 8",position:[32.0678106134499,34.768552780151374]}]}],y=t(110),D=t(130),b=t(15),E=t(57),w=function(e){var n=e.device,t=e.isSelected,a=e.isTypeSelected,o=e.shouldShowName;return i.a.createElement(y.a,{key:n.name,position:n.position,title:n.name,icon:Object(b.divIcon)({iconSize:[20,20],html:Object(E.renderToStaticMarkup)(i.a.createElement("div",null,i.a.createElement("i",{className:" fa fa-map-marker-alt fa-2x",style:{color:a?t?"#297A31":"#1B2C6F":"#888888"}}),o?i.a.createElement("span",{style:{backgroundColor:"yellow",padding:3,borderColor:"black"}},n.name.replace(/ /g,"\xa0")):null))})},i.a.createElement(D.a,null,n.name+" at ("+n.position+")"))},k=t(82),S=t(132),C=t(114),O=t(59),j=t.n(O),M=function(e){var n=e.dev,t=e.isSelected,a=e.onClick,o=e.onDisableLocation;return i.a.createElement(k.a,{key:n.name,button:!0,selected:t,onClick:a},i.a.createElement(S.a,{primary:n.name}),n.position?i.a.createElement(C.a,{"aria-label":"Disable location",size:"small",onClick:o},i.a.createElement(j.a,null)):null)},P=t(124),x=function(e){var n=e.json,t=e.onChange;return i.a.createElement(c.a,{style:{position:"absolute",maxHeight:"10%",overflow:"auto",height:"10%",width:"30%",right:50,bottom:50,justifyContent:"center",alignItems:"center",zIndex:1e3}},i.a.createElement(P.a,{id:"outlined-multiline-static",multiline:!0,style:{position:"absolute",overflow:"scroll",top:10,bottom:10,right:10,left:10},inputProps:{style:{fontSize:10,lineHeight:1}},value:JSON.stringify(n,null,2),onChange:function(e){return t(JSON.parse(e.target.value))}}))},A=t(133),z=t(119),L=function(e){var n=e.shape,t=e.onChange,a=e.shapeOptions;return i.a.createElement(A.a,{style:{margin:5},size:"small",value:n,exclusive:!0,onChange:function(e,n){return t(n)}},a.map((function(e){return i.a.createElement(z.a,{value:e.name,key:e.name,disabled:e.disabled},e.name)})))},I=t(122),N=t(120),T=function(e){var n=e.selectedType,t=e.onChange,a=e.showAll,o=e.setShowAll,r=e.typeOptions;return i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("div",{style:{display:"inline-block",verticalAlign:"text-top",margin:5}},i.a.createElement(u.a,{id:"show-all-types",style:{fontSize:10}},"Show all"),i.a.createElement(v.a,{id:"show-all-types",color:"primary",inputProps:{"aria-label":"primary checkbox"},value:a,onChange:function(e){return o(e.target.checked)}})),i.a.createElement("div",{style:{display:"inline-block",verticalAlign:"text-top",margin:5}},i.a.createElement(u.a,{id:"select-type",style:{fontSize:10}},"Device Type"),i.a.createElement(I.a,{id:"select-type",value:n,onChange:function(e){return t(e.target.value)}},r.map((function(e){return i.a.createElement(N.a,{key:e.name,value:e.name},e.name)})))))},R=function(e,n,t){return e*(1-t)+n*t},J=function(e,n,t){return function(e,n,t,a){return[R(e[0],n[0],t),R(e[1],n[1],a)]}(e,n,t,t)},B=function(e,n){var t=e[0]-n[0],a=e[1]-n[1];return Math.sqrt(t*t+a*a)},H=function(e,n){for(var t=0,a=0;a<e.length-1;++a){var i=B(e[a],e[a+1]),o=t+i;if(!(o<=n)){var r=(n-t)/i;return J(e[a],e[a+1],r)}t=o}return e[e.length-1]},W=function(e,n){for(var t=function(e){for(var n=0,t=0;t<e.length-1;++t)n+=B(e[t],e[t+1]);return n}(e),a=new Array(n),i=0;i<n;++i)a[i]=H(e,i/(n-1)*t);return a},q=function(e,n,t,a,i){var o=.5*(a-n),r=.5*(i-t),l=e*e;return(2*t-2*a+o+r)*(e*l)+(-3*t+3*a-2*o-r)*l+o*e+t},F=function(e,n){var t=(e.length-1)*n,a=Math.floor(t),i=t-a,o=e[0===a?a:a-1],r=e[a],l=e[a>e.length-2?e.length-1:a+1],c=e[a>e.length-3?e.length-1:a+2];return[q(i,o[0],r[0],l[0],c[0]),q(i,o[1],r[1],l[1],c[1])]},K=function(e,n){for(var t=new Array(n),a=0;a<n;++a)t[a]=F(e,a/n);return t},V=function(e,n){var t=e[0],a=e[1],i=e[e.length-1],o=Math.atan2(a[1]-t[1],a[0]-t[0]),r=Math.atan2(i[1]-t[1],i[0]-t[0]);return function(e,n,t,a,i){a>t&&(a-=2*Math.PI);for(var o=new Array(i),r=0;r<i;++r){var l=r/(i-1),c=t*(1-l)+a*l;o[r]=[e[0]+n*Math.cos(c),e[1]+n*Math.sin(c)]}return o}(t,B(t,a),o,r,n)};console.log(new Date);var $,G,Q=[32.081128,34.779729];Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement((function(){var e=Object(a.useRef)(null),n=Object(a.useRef)(null),t=i.a.useState([]),o=Object(l.a)(t,2),r=o[0],y=o[1],D=i.a.useState(g[0].type),b=Object(l.a)(D,2),E=b[0],k=b[1],S=i.a.useState(g),C=Object(l.a)(S,2),O=C[0],j=C[1],P=i.a.useState(!1),A=Object(l.a)(P,2),z=A[0],I=A[1],N=i.a.useState("Point"),R=Object(l.a)(N,2),B=R[0],H=R[1],q=i.a.useState(void 0),F=Object(l.a)(q,2),U=F[0],X=F[1],Y=i.a.useState(0),Z=Object(l.a)(Y,2),_=(Z[0],Z[1],i.a.useState(3)),ee=Object(l.a)(_,2),ne=ee[0],te=ee[1],ae=i.a.useState(!1),ie=Object(l.a)(ae,2),oe=ie[0],re=ie[1],le=function(e,n,t){for(var a=O.slice(),i=a.find((function(n){return n.type===e})).items,o=0;o<n.length;++o)i[n[o]].position=t[Math.min(o,t.length-1)];return a},ce=function(e,n){return e.concat([e[0],e[0],e[0],e[0]])},ue=[{name:"Point",toLine:function(e){return[]},toPositions:function(e){return[e[0]]}},{name:"Poly",toLine:function(e){return e},toPositions:function(e){return W(e,r.length)}},{name:"Curve",toLine:function(e){return K(e,100)},toPositions:function(e){return W(K(e,100),r.length)}},{name:"Arc",toLine:function(e){return 2===e.length?e:[e[0]].concat(V(e,400))},toPositions:function(e){return W(V(e,400),r.length)}},{name:"Rect",toLine:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=ce(e),t=Object(l.a)(n,4),a=t[0],i=t[1],o=t[2],r=t[3];return[a,i,o,r,a]},toPositions:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne,t=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],ce(e)),a=Object(l.a)(t,4),i=a[0],o=a[1],c=a[2],u=a[3],s=[],m=Math.ceil(r.length/n),v=0;v<n;++v)for(var f=J(i,u,v/(n-1)),h=J(o,c,v/(n-1)),p=0;p<m;++p)s.push(J(f,h,p/(m-1)));return s}}],se=function(){return ue.find((function(e){return e.name===B}))},me=function(e){if(U){var t=[U].concat(G);e&&t.push(e),n.current.leafletElement.setLatLngs(se().toLine(t))}};return i.a.createElement("div",{className:"App"},i.a.createElement(h.a,{center:Q,zoom:14,ref:e,style:{width:"100%",height:"100vh"},onClick:function(e){"Point"===B?(le(E,r,[[e.latlng.lat,e.latlng.lng]]),y([])):U?G.push([e.latlng.lat,e.latlng.lng]):(X([e.latlng.lat,e.latlng.lng]),G=[])},onMouseMove:function(e){me([e.latlng.lat,e.latlng.lng])},onMouseOut:function(){me()}},i.a.createElement(p.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),O.map((function(e){return z||e.type===E?e.items.map((function(n,t){return n.position?i.a.createElement(w,{key:n.name,device:n,isSelected:r.includes(t),isTypeSelected:e.type===E,shouldShowName:oe}):null})):null})),U?i.a.createElement(d.a,{positions:[U,U],ref:n}):null),i.a.createElement(c.a,{style:{position:"absolute",height:"80%",maxHeight:"75%",overflow:"auto",top:50,width:"30%",right:50,bottom:50,justifyContent:"center",alignItems:"center",zIndex:1e3}},i.a.createElement("div",{style:{margin:10}},i.a.createElement(L,{shape:B,onChange:function(e){return H(e)},shapeOptions:ue}),"Rect"!==B?null:i.a.createElement("div",{style:{display:"block"}},i.a.createElement("div",{style:{display:"inline-block",margin:5,width:"40%"}},i.a.createElement(u.a,{id:"rect-rows",style:{fontSize:10}},"Rect rows"),i.a.createElement(s.a,{onChange:function(e,n){return te(n)},value:ne,defaultValue:3,id:"rect-rows",valueLabelDisplay:"auto",min:2,max:20}))),i.a.createElement(m.a,{variant:"contained",color:"primary",disabled:"Point"===B,style:{margin:5},onClick:function(){var e=[U].concat(G);e=se().toPositions(e),j(le(E,r,e)),X(void 0),y([])}},"Put devices"),i.a.createElement(T,{selectedType:E,onChange:function(e){y([]),k(e)},showAll:z,setShowAll:function(e){return I(e)},typeOptions:O.map((function(e){return{name:e.type}}))}),i.a.createElement("div",{style:{display:"inline-block",verticalAlign:"text-top",margin:5}},i.a.createElement(u.a,{id:"show-all-types",style:{fontSize:10}},"Devices show name"),i.a.createElement(v.a,{id:"show-all-types",color:"primary",inputProps:{"aria-label":"primary checkbox"},value:oe,onChange:function(e){return re(e.target.checked)}})),i.a.createElement("div",{style:{overflow:"scroll",height:"inherit",display:"block"}},i.a.createElement(f.a,null,O.find((function(e){return e.type===E})).items.map((function(e,n){return i.a.createElement(M,{key:e.name,dev:e,isSelected:r.includes(n),onClick:function(e){return function(e,n){var t=[];if(n){if(void 0!==$){var a=Math.min(e,$),i=Math.max(e,$);t=r.filter((function(e){return e<a}));for(var o=a;o<=i;++o)t.push(o);t.concat(r.filter((function(e){return e>i})))}}else t=r.includes(e)?r.filter((function(n){return n!==e})):r.concat([e]);y(t.sort()),$=e}(n,e.shiftKey)},onDisableLocation:function(e){return le(E,[n],[void 0])}})})))))),i.a.createElement(x,{json:O,onChange:function(e){return j(e)}}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[69,1,2]]]);
//# sourceMappingURL=main.f6cc0c3e.chunk.js.map