(this["webpackJsonpdevice-map"]=this["webpackJsonpdevice-map"]||[]).push([[0],{66:function(e,t,n){e.exports=n(79)},71:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(6),o=n.n(l),r=(n(71),n(33)),c=n(80),s=n(126),u=n(113),m=n(124),p=n(130),v=n(121),d=n(120),f=n(119),y=n(123),g=n(125),h=n(116),E=n(115),b=n(57),w=n.n(b),k=n(55),S=n(13),C=n(114),D=n(129),O=n(122),j=n(128);n(73);console.log(new Date);var x,z=[32.081128,34.779729],L=[{type:"wind",items:[{name:"Device 1",position:[32.08,34.77]},{name:"Device 2"},{name:"Device 3",position:[32.07,34.78]},{name:"Device 4"}]},{type:"water",items:[{name:"Device 5"},{name:"Device 6",position:[32.080320121040344,34.78262901306153]},{name:"Device 7"},{name:"Device 8",position:[32.0678106134499,34.768552780151374]}]}],P=function(e){var t=e.dev,n=e.isSelected,a=e.onClick,l=e.onDisableLocation;return i.a.createElement(c.a,{key:t.name,button:!0,selected:n,onClick:a},i.a.createElement(s.a,{primary:t.name}),t.position?i.a.createElement(u.a,{"aria-label":"Disable location",size:"small",onClick:l},i.a.createElement(w.a,null)):null)},M=function(e){var t=e.device,n=e.isSelected,a=e.isTypeSelected;return i.a.createElement(C.a,{key:t.name,position:t.position,title:t.name,icon:Object(S.divIcon)({iconSize:[20,20],html:Object(k.renderToStaticMarkup)(i.a.createElement("i",{className:" fa fa-map-marker-alt fa-2x",style:{color:a?n?"#297A31":"#1B2C6F":"#888888"}}))})},i.a.createElement(D.a,null,t.name+" at ("+t.position+")"))},A=function(e,t,n){return[e[0]*(1-n)+t[0]*n,e[1]*(1-n)+t[1]*n]},J=function(){var e,t,n,l=Object(a.useRef)(null),o=i.a.useState([]),c=Object(r.a)(o,2),s=c[0],u=c[1],b=i.a.useState(L[0].type),w=Object(r.a)(b,2),k=w[0],S=w[1],C=i.a.useState(L),D=Object(r.a)(C,2),J=D[0],T=D[1],I=i.a.useState(!1),N=Object(r.a)(I,2),B=N[0],R=N[1],W=i.a.useState("Point"),F=Object(r.a)(W,2),H=F[0],K=F[1],$=function(e,t,n){for(var a=J.slice(),i=a.find((function(t){return t.type===e})).items,l=0;l<t.length;++l)i[t[l]].position=n[Math.min(l,n.length-1)];T(a)};return i.a.createElement("div",{className:"App"},i.a.createElement(O.a,{center:z,zoom:14,ref:l,style:{width:"100%",height:"100vh"},onClick:function(t){if("Point"===H&&s.length>=1)$(k,s,[[t.latlng.lat,t.latlng.lng]]),u([]);else if("Line"===H&&s.length>=2)if(e){var a=function(e,t,n){var a=new Array(n);a[0]=e;for(var i=1;i<n-1;++i)a[i]=A(e,t,i/(n-1));return a[n-1]=t,a}(e,[t.latlng.lat,t.latlng.lng],s.length);$(k,s,a),e=void 0,n.remove(),n=void 0,u([])}else e=[t.latlng.lat,t.latlng.lng]},onMouseMove:function(a){t=a.latlng,e&&(n?n.setLatLngs([t,e]):n=window.L.polyline([t,e]).addTo(l.current.leafletElement))}},i.a.createElement(j.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),J.map((function(e){return B||e.type===k?e.items.map((function(t,n){return t.position?i.a.createElement(M,{key:t.name,device:t,isSelected:s.includes(n),isTypeSelected:e.type===k}):null})):null}))),i.a.createElement(E.a,{style:{position:"absolute",top:50,width:"30%",right:50,bottom:50,justifyContent:"center",alignItems:"center",zIndex:1e3}},i.a.createElement("div",{style:{margin:10}},i.a.createElement(g.a,{style:{margin:5},size:"small",value:H,exclusive:!0,onChange:function(e,t){return K(t)}},i.a.createElement(h.a,{value:"Point"},"Point"),i.a.createElement(h.a,{value:"Line"},"Line"),i.a.createElement(h.a,{value:"Curve",disabled:!0},"Curve"),i.a.createElement(h.a,{value:"Rectangle",disabled:!0},"Rect"),i.a.createElement(h.a,{value:"Polyline",disabled:!0},"Poly")),i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("div",{style:{display:"inline-block",verticalAlign:"text-top",margin:5}},i.a.createElement(m.a,{id:"show-all-types",style:{fontSize:10}},"Show all"),i.a.createElement(p.a,{id:"show-all-types",color:"primary",inputProps:{"aria-label":"primary checkbox"},value:B,onChange:function(e){return R(e.target.checked)}})),i.a.createElement("div",{style:{display:"inline-block",verticalAlign:"text-top",margin:5}},i.a.createElement(m.a,{id:"select-type",style:{fontSize:10}},"Device Type"),i.a.createElement(v.a,{id:"select-type",value:k,onChange:function(e){u([]),S(e.target.value)}},J.map((function(e){return i.a.createElement(d.a,{key:e.type,value:e.type},e.type)}))))),i.a.createElement(f.a,null,J.find((function(e){return e.type===k})).items.map((function(e,t){return i.a.createElement(P,{key:e.name,dev:e,isSelected:s.includes(t),onClick:function(e){return function(e,t){var n=[];if(t){if(void 0!==x){var a=Math.min(e,x),i=Math.max(e,x);n=s.filter((function(e){return e<a}));for(var l=a;l<=i;++l)n.push(l);n.concat(s.filter((function(e){return e>i})))}}else n=s.includes(e)?s.filter((function(t){return t!==e})):s.concat([e]);u(n.sort()),x=e}(t,e.shiftKey)},onDisableLocation:function(e){return $(k,[t],[void 0])}})})))),i.a.createElement(y.a,{id:"outlined-multiline-static",label:"Json",multiline:!0,rows:"10",variant:"outlined",style:{position:"absolute",bottom:10,right:10,left:10,justifyContent:"center"},inputProps:{style:{fontSize:10,lineHeight:1}},value:JSON.stringify(J,null,2),onChange:function(e){return T(JSON.parse(e.target.value))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.1a1ad0a5.chunk.js.map